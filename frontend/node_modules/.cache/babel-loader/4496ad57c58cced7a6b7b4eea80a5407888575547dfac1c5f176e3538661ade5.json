{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{w3cwebsocket as W3CWebSocket}from\"websocket\";import{useNavigate}from\"react-router-dom\";import{useMessage}from'../../Components/MessageContext';import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";const WebSocketComponent=()=>{const[isConnecting,setIsConnecting]=useState(true);const navigate=useNavigate();const[waitingForBarcode,setWaitingForBarcode]=useState(false);const[barcode,setBarcode]=useState(\"\");// const [timeoutId, setTimeoutId] = useState<NodeJS.Timeout | null>(null);\nconst[debounceId,setDebounceId]=useState(null);const[expectedBarcodeType,setExpectedBarcodeType]=useState(null);const{socket,setSocket,USBList,setUSBList,wifiSSID,setwifiSSID,wifiPassword,setwifiPassword,fourG_apn,setfourG_apn,fourG_user,setfourG_user,fourG_password,setfourG_password,fourG_pin,setfourG_pin,items,setItems,timeoutId,setTimeoutId,containerRef}=useMessage();const handleAddItem=(message,isSuccess)=>{setItems(prevItems=>[...prevItems,{message,isSuccess}]);if(containerRef.current){setTimeout(()=>{containerRef.current.scrollTop=containerRef.current.scrollHeight;},0);}};const handleBarcodeInput=event=>{console.log(\"event.key\",event.key,\"expectedBarcodeType\",expectedBarcodeType);if(!expectedBarcodeType)return;if(event.key===\"Shift\")return;if(event.key===\"ç\"){setBarcode(prev=>prev+\".\");return;}if(event.key===\"Enter\"){console.log(\"event.key === Enter\");if(debounceId)clearTimeout(debounceId);processBarcode();if(timeoutId)clearTimeout(timeoutId);}else{setBarcode(prev=>prev+event.key);console.log(\"debounceId\",debounceId);if(debounceId)clearTimeout(debounceId);const newDebounceId=setTimeout(()=>console.log(\"Debounced barcode:\",barcode),300);console.log(\"newDebounceId\",newDebounceId);setDebounceId(newDebounceId);}};const sendBarcode=command=>{if(socket){if(socket.readyState===socket.OPEN){socket.send(JSON.stringify({Command:command,Data:barcode}));}else{toast.error(\"Server'a bağlanılamıyor!\");}}else{toast.error(\"Server'a bağlanılamıyor!\");}};const processBarcode=()=>{console.log(\"processBarcode aşaması\");console.log(\"barcode\",barcode);if(barcode.trim()===\"\"){handleAddItem(\"Barkod girilmedi. Hata!\",false);}else if(expectedBarcodeType===\"seriNo\"){handleAddItem(`Cihaz Seri No: ${barcode}`,true);sendBarcode(\"SeriNoBarcode\");}else if(expectedBarcodeType===\"chargePointId\"){handleAddItem(`Charge Point ID: ${barcode}`,true);sendBarcode(\"ChargePointIdBarcode\");}};const startTimeout=()=>{console.log(\"startTimeout\");if(timeoutId)clearTimeout(timeoutId);const id=setTimeout(()=>{console.log(\"setTimeout\");if(expectedBarcodeType){console.log(\"expectedBarcodeType\");}if(!barcode){handleAddItem(\"Barkod girilmedi. Hata!\",false);}},20000);setTimeoutId(id);};useEffect(()=>{if(waitingForBarcode){window.addEventListener(\"keydown\",handleBarcodeInput);startTimeout();}else{window.removeEventListener(\"keydown\",handleBarcodeInput);if(timeoutId)clearTimeout(timeoutId);}return()=>{window.removeEventListener(\"keydown\",handleBarcodeInput);if(timeoutId)clearTimeout(timeoutId);};},[waitingForBarcode,barcode]);const Tick=()=>{return/*#__PURE__*/_jsx(\"img\",{className:\"tick\",src:\"/assets/img/tik.png\",alt:\"\"});};const connectWebSocket=()=>{console.log(\"Web\",isConnecting);setIsConnecting(true);const newSocket=new W3CWebSocket('ws://'+window.location.hostname+':4000');newSocket.onopen=()=>{console.log(\"WebSocket bağlantısı kuruldu.\");navigate(\"\");setSocket(newSocket);setIsConnecting(false);};newSocket.onmessage=message=>{const jsonData=JSON.parse(message.data.toString());switch(jsonData.Command){case\"USBList\":setUSBList(jsonData.Data);break;case\"Config\":console.log(jsonData);if(jsonData.Data){setwifiSSID(jsonData.Data.wifiSSID);setwifiPassword(jsonData.Data.wifiPassword);setfourG_apn(jsonData.Data.fourG_apn);setfourG_user(jsonData.Data.fourG_user);setfourG_password(jsonData.Data.fourG_password);setfourG_pin(jsonData.Data.fourG_pin);}break;case\"USBControl\":console.log(jsonData);if(jsonData.Data){console.log(\"Test cihazına bağlandı\");handleAddItem(\"Test cihazına bağlandı.\",true);setExpectedBarcodeType(\"seriNo\");handleAddItem(\"Lütfen cihazın seri numara barkodunu okutunuz!\",null);setWaitingForBarcode(true);// handleAddItem(\"Test cihazının hazır olması bekleniyor...\", null)\n}else{console.log(\"Test cihazına bağlanamadı\");handleAddItem(\"Test cihazına bağlanamadı!.\",false);}break;case\"TestDevice\":console.log(jsonData);if(jsonData.Data){handleAddItem(\"Test cihazı hazır.\",true);}break;case\"SeriNoBarcodeControl\":console.log(jsonData);handleAddItem(\"Cihazın Model Idsi sorgulanıyor...\",null);break;case\"SeriNoBarcodeResult\":console.log(jsonData);if(jsonData.Data){if(jsonData.Data.result){handleAddItem(`ItemCode: ${jsonData.Data.ItemCode}`,null);handleAddItem(`emergencyButton: ${jsonData.Data.emergencyButton}`,null);handleAddItem(`midMeter: ${jsonData.Data.midMeter}`,null);handleAddItem(`system: ${jsonData.Data.system}`,null);handleAddItem(`bodyColor: ${jsonData.Data.bodyColor}`,null);handleAddItem(`connectorType: ${jsonData.Data.connectorType}`,null);handleAddItem(`caseType: ${jsonData.Data.caseType}`,null);}else{handleAddItem(\"SAP sisteminde bir sorun oluştu!\",false);}}break;case\"ChargePointIdRequest\":console.log(jsonData);setExpectedBarcodeType(\"chargePointId\");handleAddItem(\"Lütfen cihazın Charge Point Id barkodunu okutunuz!\",null);setWaitingForBarcode(true);break;}};newSocket.onerror=error=>{console.error(\"WebSocket hatası:\",error);};newSocket.onclose=()=>{console.log(\"WebSocket bağlantısı kapatıldı.\");setSocket(null);setIsConnecting(false);setTimeout(()=>{connectWebSocket();},1000);};};useEffect(()=>{const fetchData=async()=>{try{console.log(\"connectWebSocket...\");connectWebSocket();}catch(error){console.error(\"Error fetching data:\",error);}};fetchData();return()=>{if(socket){console.log(\"WebSocket bağlantısı kapatıldı.\");socket.close();}};},[]);return/*#__PURE__*/_jsx(\"div\",{});};export default WebSocketComponent;","map":{"version":3,"names":["React","useEffect","useState","w3cwebsocket","W3CWebSocket","useNavigate","useMessage","toast","jsx","_jsx","WebSocketComponent","isConnecting","setIsConnecting","navigate","waitingForBarcode","setWaitingForBarcode","barcode","setBarcode","debounceId","setDebounceId","expectedBarcodeType","setExpectedBarcodeType","socket","setSocket","USBList","setUSBList","wifiSSID","setwifiSSID","wifiPassword","setwifiPassword","fourG_apn","setfourG_apn","fourG_user","setfourG_user","fourG_password","setfourG_password","fourG_pin","setfourG_pin","items","setItems","timeoutId","setTimeoutId","containerRef","handleAddItem","message","isSuccess","prevItems","current","setTimeout","scrollTop","scrollHeight","handleBarcodeInput","event","console","log","key","prev","clearTimeout","processBarcode","newDebounceId","sendBarcode","command","readyState","OPEN","send","JSON","stringify","Command","Data","error","trim","startTimeout","id","window","addEventListener","removeEventListener","Tick","className","src","alt","connectWebSocket","newSocket","location","hostname","onopen","onmessage","jsonData","parse","data","toString","result","ItemCode","emergencyButton","midMeter","system","bodyColor","connectorType","caseType","onerror","onclose","fetchData","close"],"sources":["C:/Users/syucedag/Desktop/all_projects/sevda/mygit/testApplication/frontend/src/Components/WebSocketComponent/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport LoadingProduct from \"../../assets/icons/loadingProduct.svg\";\r\nimport { useMessage } from '../../Components/MessageContext';\r\nimport { toast } from \"react-toastify\";\r\n\r\ninterface Item {\r\n  message: string;\r\n  isSuccess: boolean | null;\r\n}\r\n\r\ntype BarcodeType = \"seriNo\" | \"chargePointId\";\r\n\r\nconst WebSocketComponent = () => {\r\n  const [isConnecting, setIsConnecting] = useState(true);\r\n  const navigate = useNavigate();\r\n  const [waitingForBarcode, setWaitingForBarcode] = useState(false);\r\n  const [barcode, setBarcode] = useState(\"\");\r\n  // const [timeoutId, setTimeoutId] = useState<NodeJS.Timeout | null>(null);\r\n  const [debounceId, setDebounceId] = useState<NodeJS.Timeout | null>(null);\r\n  const [expectedBarcodeType, setExpectedBarcodeType] = useState<BarcodeType | null>(null);\r\n\r\n  const {\r\n    socket,\r\n    setSocket,\r\n    USBList,\r\n    setUSBList,\r\n    wifiSSID,\r\n    setwifiSSID,\r\n    wifiPassword,\r\n    setwifiPassword,\r\n    fourG_apn,\r\n    setfourG_apn,\r\n    fourG_user,\r\n    setfourG_user,\r\n    fourG_password,\r\n    setfourG_password,\r\n    fourG_pin,\r\n    setfourG_pin,\r\n    items,\r\n    setItems,timeoutId, setTimeoutId,\r\n    containerRef,\r\n  } = useMessage();\r\n\r\n  const handleAddItem = (message: string, isSuccess: boolean | null) => {\r\n    setItems((prevItems: Item[]) => [\r\n      ...prevItems,\r\n      { message, isSuccess },\r\n    ]);\r\n\r\n    if (containerRef.current) {\r\n      setTimeout(() => {\r\n        containerRef.current!.scrollTop = containerRef.current!.scrollHeight;\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  const handleBarcodeInput = (event: KeyboardEvent) => {\r\n    console.log(\"event.key\",event.key, \"expectedBarcodeType\", expectedBarcodeType)\r\n    if (!expectedBarcodeType) return;\r\n\r\n    if (event.key === \"Shift\") return;\r\n\r\n    if (event.key === \"ç\") {\r\n      setBarcode((prev) => prev + \".\");\r\n      return;\r\n    }\r\n\r\n    if (event.key === \"Enter\") {\r\n      console.log(\"event.key === Enter\")\r\n      if (debounceId) clearTimeout(debounceId);\r\n      processBarcode();\r\n      if (timeoutId) clearTimeout(timeoutId);\r\n    } else {\r\n      setBarcode((prev) => prev + event.key);\r\n      console.log(\"debounceId\",debounceId)\r\n      if (debounceId) clearTimeout(debounceId);\r\n      const newDebounceId = setTimeout(() => console.log(\"Debounced barcode:\", barcode), 300);\r\n      console.log(\"newDebounceId\",newDebounceId)\r\n      setDebounceId(newDebounceId);\r\n    }\r\n  };\r\n\r\n  const sendBarcode = (command: string) => {\r\n    if (socket) {\r\n      if (socket.readyState === socket.OPEN) {\r\n        socket.send(\r\n          JSON.stringify({\r\n            Command: command,\r\n            Data: barcode,\r\n          })\r\n        );\r\n      } else {\r\n        toast.error(\"Server'a bağlanılamıyor!\");\r\n      }\r\n    } else {\r\n      toast.error(\"Server'a bağlanılamıyor!\");\r\n    }\r\n  };\r\n\r\n  const processBarcode = () => {\r\n    console.log(\"processBarcode aşaması\")\r\n    console.log(\"barcode\",barcode)\r\n    if (barcode.trim() === \"\") {\r\n      handleAddItem(\"Barkod girilmedi. Hata!\", false);\r\n    } else if (expectedBarcodeType === \"seriNo\") {\r\n      handleAddItem(`Cihaz Seri No: ${barcode}`, true);\r\n      sendBarcode(\"SeriNoBarcode\");\r\n    } else if (expectedBarcodeType === \"chargePointId\") {\r\n      handleAddItem(`Charge Point ID: ${barcode}`, true);\r\n      sendBarcode(\"ChargePointIdBarcode\");\r\n    }\r\n  };\r\n\r\n  const startTimeout = () => {\r\n    console.log(\"startTimeout\")\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    const id = setTimeout(() => {\r\n      console.log(\"setTimeout\")\r\n      if (expectedBarcodeType) {\r\n        console.log(\"expectedBarcodeType\")\r\n      }\r\n      if(!barcode){\r\n        handleAddItem(\"Barkod girilmedi. Hata!\", false);\r\n      }\r\n    }, 20000);\r\n    setTimeoutId(id);\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (waitingForBarcode) {\r\n      window.addEventListener(\"keydown\", handleBarcodeInput);\r\n      startTimeout();\r\n    } else {\r\n      window.removeEventListener(\"keydown\", handleBarcodeInput);\r\n      if (timeoutId) clearTimeout(timeoutId);\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleBarcodeInput);\r\n      if (timeoutId) clearTimeout(timeoutId);\r\n    };\r\n  }, [waitingForBarcode, barcode]);\r\n\r\n\r\n  const Tick = () => {\r\n    return <img className=\"tick\" src=\"/assets/img/tik.png\" alt=\"\" />\r\n  };\r\n\r\n  const connectWebSocket = () => {\r\n    console.log(\"Web\", isConnecting)\r\n    setIsConnecting(true);\r\n    const newSocket = new W3CWebSocket('ws://' + window.location.hostname + ':4000');\r\n\r\n    newSocket.onopen = () => {\r\n      console.log(\"WebSocket bağlantısı kuruldu.\");\r\n      navigate(\"\");\r\n      setSocket(newSocket);\r\n      setIsConnecting(false);\r\n    };\r\n\r\n    newSocket.onmessage = (message) => {\r\n      const jsonData = JSON.parse(message.data.toString());\r\n      switch (jsonData.Command) {\r\n        case \"USBList\":\r\n          setUSBList(jsonData.Data)\r\n          break\r\n        case \"Config\":\r\n          console.log(jsonData);\r\n          if (jsonData.Data) {\r\n            setwifiSSID(jsonData.Data.wifiSSID)\r\n            setwifiPassword(jsonData.Data.wifiPassword)\r\n            setfourG_apn(jsonData.Data.fourG_apn)\r\n            setfourG_user(jsonData.Data.fourG_user)\r\n            setfourG_password(jsonData.Data.fourG_password)\r\n            setfourG_pin(jsonData.Data.fourG_pin)\r\n          }\r\n          break\r\n        case \"USBControl\":\r\n          console.log(jsonData);\r\n          if (jsonData.Data) {\r\n            console.log(\"Test cihazına bağlandı\")\r\n            handleAddItem(\"Test cihazına bağlandı.\", true)\r\n            setExpectedBarcodeType(\"seriNo\")\r\n            handleAddItem(\"Lütfen cihazın seri numara barkodunu okutunuz!\", null);\r\n            setWaitingForBarcode(true);\r\n            // handleAddItem(\"Test cihazının hazır olması bekleniyor...\", null)\r\n          }\r\n          else {\r\n            console.log(\"Test cihazına bağlanamadı\")\r\n            handleAddItem(\"Test cihazına bağlanamadı!.\", false)\r\n          }\r\n          break\r\n        case \"TestDevice\":\r\n          console.log(jsonData);\r\n          if (jsonData.Data) {\r\n            handleAddItem(\"Test cihazı hazır.\", true)\r\n            \r\n          }\r\n          break\r\n        case \"SeriNoBarcodeControl\":\r\n          console.log(jsonData);\r\n          handleAddItem(\"Cihazın Model Idsi sorgulanıyor...\", null);\r\n          break\r\n        case \"SeriNoBarcodeResult\":\r\n          console.log(jsonData);\r\n          if (jsonData.Data) {\r\n            if(jsonData.Data.result){\r\n              handleAddItem(`ItemCode: ${jsonData.Data.ItemCode}`, null);\r\n              handleAddItem(`emergencyButton: ${jsonData.Data.emergencyButton}`, null);\r\n              handleAddItem(`midMeter: ${jsonData.Data.midMeter}`, null);\r\n              handleAddItem(`system: ${jsonData.Data.system}`, null);\r\n              handleAddItem(`bodyColor: ${jsonData.Data.bodyColor}`, null);\r\n              handleAddItem(`connectorType: ${jsonData.Data.connectorType}`, null);\r\n              handleAddItem(`caseType: ${jsonData.Data.caseType}`, null);\r\n            }\r\n            else{\r\n              handleAddItem(\"SAP sisteminde bir sorun oluştu!\", false)\r\n            }\r\n          }\r\n          break\r\n        case \"ChargePointIdRequest\":\r\n          console.log(jsonData);\r\n          setExpectedBarcodeType(\"chargePointId\")\r\n          handleAddItem(\"Lütfen cihazın Charge Point Id barkodunu okutunuz!\", null);\r\n          setWaitingForBarcode(true);\r\n          break\r\n      }\r\n    };\r\n\r\n    newSocket.onerror = (error) => {\r\n      console.error(\"WebSocket hatası:\", error);\r\n    };\r\n\r\n    newSocket.onclose = () => {\r\n      console.log(\"WebSocket bağlantısı kapatıldı.\");\r\n      setSocket(null);\r\n      setIsConnecting(false);\r\n\r\n      setTimeout(() => {\r\n        connectWebSocket();\r\n      }, 1000);\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        console.log(\"connectWebSocket...\")\r\n        connectWebSocket();\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      if (socket) {\r\n        console.log(\"WebSocket bağlantısı kapatıldı.\");\r\n        socket.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return <div></div>;\r\n};\r\n\r\nexport default WebSocketComponent;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,YAAY,GAAI,CAAAC,YAAY,KAAQ,WAAW,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,UAAU,KAAQ,iCAAiC,CAC5D,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBASvC,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAAAW,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C;AACA,KAAM,CAACgB,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAwB,IAAI,CAAC,CACzE,KAAM,CAACkB,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGnB,QAAQ,CAAqB,IAAI,CAAC,CAExF,KAAM,CACJoB,MAAM,CACNC,SAAS,CACTC,OAAO,CACPC,UAAU,CACVC,QAAQ,CACRC,WAAW,CACXC,YAAY,CACZC,eAAe,CACfC,SAAS,CACTC,YAAY,CACZC,UAAU,CACVC,aAAa,CACbC,cAAc,CACdC,iBAAiB,CACjBC,SAAS,CACTC,YAAY,CACZC,KAAK,CACLC,QAAQ,CAACC,SAAS,CAAEC,YAAY,CAChCC,YACF,CAAC,CAAGpC,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAqC,aAAa,CAAGA,CAACC,OAAe,CAAEC,SAAyB,GAAK,CACpEN,QAAQ,CAAEO,SAAiB,EAAK,CAC9B,GAAGA,SAAS,CACZ,CAAEF,OAAO,CAAEC,SAAU,CAAC,CACvB,CAAC,CAEF,GAAIH,YAAY,CAACK,OAAO,CAAE,CACxBC,UAAU,CAAC,IAAM,CACfN,YAAY,CAACK,OAAO,CAAEE,SAAS,CAAGP,YAAY,CAACK,OAAO,CAAEG,YAAY,CACtE,CAAC,CAAE,CAAC,CAAC,CACP,CACF,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAIC,KAAoB,EAAK,CACnDC,OAAO,CAACC,GAAG,CAAC,WAAW,CAACF,KAAK,CAACG,GAAG,CAAE,qBAAqB,CAAEnC,mBAAmB,CAAC,CAC9E,GAAI,CAACA,mBAAmB,CAAE,OAE1B,GAAIgC,KAAK,CAACG,GAAG,GAAK,OAAO,CAAE,OAE3B,GAAIH,KAAK,CAACG,GAAG,GAAK,GAAG,CAAE,CACrBtC,UAAU,CAAEuC,IAAI,EAAKA,IAAI,CAAG,GAAG,CAAC,CAChC,OACF,CAEA,GAAIJ,KAAK,CAACG,GAAG,GAAK,OAAO,CAAE,CACzBF,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAClC,GAAIpC,UAAU,CAAEuC,YAAY,CAACvC,UAAU,CAAC,CACxCwC,cAAc,CAAC,CAAC,CAChB,GAAIlB,SAAS,CAAEiB,YAAY,CAACjB,SAAS,CAAC,CACxC,CAAC,IAAM,CACLvB,UAAU,CAAEuC,IAAI,EAAKA,IAAI,CAAGJ,KAAK,CAACG,GAAG,CAAC,CACtCF,OAAO,CAACC,GAAG,CAAC,YAAY,CAACpC,UAAU,CAAC,CACpC,GAAIA,UAAU,CAAEuC,YAAY,CAACvC,UAAU,CAAC,CACxC,KAAM,CAAAyC,aAAa,CAAGX,UAAU,CAAC,IAAMK,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEtC,OAAO,CAAC,CAAE,GAAG,CAAC,CACvFqC,OAAO,CAACC,GAAG,CAAC,eAAe,CAACK,aAAa,CAAC,CAC1CxC,aAAa,CAACwC,aAAa,CAAC,CAC9B,CACF,CAAC,CAED,KAAM,CAAAC,WAAW,CAAIC,OAAe,EAAK,CACvC,GAAIvC,MAAM,CAAE,CACV,GAAIA,MAAM,CAACwC,UAAU,GAAKxC,MAAM,CAACyC,IAAI,CAAE,CACrCzC,MAAM,CAAC0C,IAAI,CACTC,IAAI,CAACC,SAAS,CAAC,CACbC,OAAO,CAAEN,OAAO,CAChBO,IAAI,CAAEpD,OACR,CAAC,CACH,CAAC,CACH,CAAC,IAAM,CACLT,KAAK,CAAC8D,KAAK,CAAC,0BAA0B,CAAC,CACzC,CACF,CAAC,IAAM,CACL9D,KAAK,CAAC8D,KAAK,CAAC,0BAA0B,CAAC,CACzC,CACF,CAAC,CAED,KAAM,CAAAX,cAAc,CAAGA,CAAA,GAAM,CAC3BL,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,SAAS,CAACtC,OAAO,CAAC,CAC9B,GAAIA,OAAO,CAACsD,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACzB3B,aAAa,CAAC,yBAAyB,CAAE,KAAK,CAAC,CACjD,CAAC,IAAM,IAAIvB,mBAAmB,GAAK,QAAQ,CAAE,CAC3CuB,aAAa,CAAC,kBAAkB3B,OAAO,EAAE,CAAE,IAAI,CAAC,CAChD4C,WAAW,CAAC,eAAe,CAAC,CAC9B,CAAC,IAAM,IAAIxC,mBAAmB,GAAK,eAAe,CAAE,CAClDuB,aAAa,CAAC,oBAAoB3B,OAAO,EAAE,CAAE,IAAI,CAAC,CAClD4C,WAAW,CAAC,sBAAsB,CAAC,CACrC,CACF,CAAC,CAED,KAAM,CAAAW,YAAY,CAAGA,CAAA,GAAM,CACzBlB,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC3B,GAAId,SAAS,CAAEiB,YAAY,CAACjB,SAAS,CAAC,CACtC,KAAM,CAAAgC,EAAE,CAAGxB,UAAU,CAAC,IAAM,CAC1BK,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,CACzB,GAAIlC,mBAAmB,CAAE,CACvBiC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACpC,CACA,GAAG,CAACtC,OAAO,CAAC,CACV2B,aAAa,CAAC,yBAAyB,CAAE,KAAK,CAAC,CACjD,CACF,CAAC,CAAE,KAAK,CAAC,CACTF,YAAY,CAAC+B,EAAE,CAAC,CAClB,CAAC,CAGDvE,SAAS,CAAC,IAAM,CACd,GAAIa,iBAAiB,CAAE,CACrB2D,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEvB,kBAAkB,CAAC,CACtDoB,YAAY,CAAC,CAAC,CAChB,CAAC,IAAM,CACLE,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAExB,kBAAkB,CAAC,CACzD,GAAIX,SAAS,CAAEiB,YAAY,CAACjB,SAAS,CAAC,CACxC,CAEA,MAAO,IAAM,CACXiC,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAExB,kBAAkB,CAAC,CACzD,GAAIX,SAAS,CAAEiB,YAAY,CAACjB,SAAS,CAAC,CACxC,CAAC,CACH,CAAC,CAAE,CAAC1B,iBAAiB,CAAEE,OAAO,CAAC,CAAC,CAGhC,KAAM,CAAA4D,IAAI,CAAGA,CAAA,GAAM,CACjB,mBAAOnE,IAAA,QAAKoE,SAAS,CAAC,MAAM,CAACC,GAAG,CAAC,qBAAqB,CAACC,GAAG,CAAC,EAAE,CAAE,CAAC,CAClE,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B3B,OAAO,CAACC,GAAG,CAAC,KAAK,CAAE3C,YAAY,CAAC,CAChCC,eAAe,CAAC,IAAI,CAAC,CACrB,KAAM,CAAAqE,SAAS,CAAG,GAAI,CAAA7E,YAAY,CAAC,OAAO,CAAGqE,MAAM,CAACS,QAAQ,CAACC,QAAQ,CAAG,OAAO,CAAC,CAEhFF,SAAS,CAACG,MAAM,CAAG,IAAM,CACvB/B,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC5CzC,QAAQ,CAAC,EAAE,CAAC,CACZU,SAAS,CAAC0D,SAAS,CAAC,CACpBrE,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,CAEDqE,SAAS,CAACI,SAAS,CAAIzC,OAAO,EAAK,CACjC,KAAM,CAAA0C,QAAQ,CAAGrB,IAAI,CAACsB,KAAK,CAAC3C,OAAO,CAAC4C,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,CACpD,OAAQH,QAAQ,CAACnB,OAAO,EACtB,IAAK,SAAS,CACZ1C,UAAU,CAAC6D,QAAQ,CAAClB,IAAI,CAAC,CACzB,MACF,IAAK,QAAQ,CACXf,OAAO,CAACC,GAAG,CAACgC,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAAClB,IAAI,CAAE,CACjBzC,WAAW,CAAC2D,QAAQ,CAAClB,IAAI,CAAC1C,QAAQ,CAAC,CACnCG,eAAe,CAACyD,QAAQ,CAAClB,IAAI,CAACxC,YAAY,CAAC,CAC3CG,YAAY,CAACuD,QAAQ,CAAClB,IAAI,CAACtC,SAAS,CAAC,CACrCG,aAAa,CAACqD,QAAQ,CAAClB,IAAI,CAACpC,UAAU,CAAC,CACvCG,iBAAiB,CAACmD,QAAQ,CAAClB,IAAI,CAAClC,cAAc,CAAC,CAC/CG,YAAY,CAACiD,QAAQ,CAAClB,IAAI,CAAChC,SAAS,CAAC,CACvC,CACA,MACF,IAAK,YAAY,CACfiB,OAAO,CAACC,GAAG,CAACgC,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAAClB,IAAI,CAAE,CACjBf,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCX,aAAa,CAAC,yBAAyB,CAAE,IAAI,CAAC,CAC9CtB,sBAAsB,CAAC,QAAQ,CAAC,CAChCsB,aAAa,CAAC,gDAAgD,CAAE,IAAI,CAAC,CACrE5B,oBAAoB,CAAC,IAAI,CAAC,CAC1B;AACF,CAAC,IACI,CACHsC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CACxCX,aAAa,CAAC,6BAA6B,CAAE,KAAK,CAAC,CACrD,CACA,MACF,IAAK,YAAY,CACfU,OAAO,CAACC,GAAG,CAACgC,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAAClB,IAAI,CAAE,CACjBzB,aAAa,CAAC,oBAAoB,CAAE,IAAI,CAAC,CAE3C,CACA,MACF,IAAK,sBAAsB,CACzBU,OAAO,CAACC,GAAG,CAACgC,QAAQ,CAAC,CACrB3C,aAAa,CAAC,oCAAoC,CAAE,IAAI,CAAC,CACzD,MACF,IAAK,qBAAqB,CACxBU,OAAO,CAACC,GAAG,CAACgC,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAAClB,IAAI,CAAE,CACjB,GAAGkB,QAAQ,CAAClB,IAAI,CAACsB,MAAM,CAAC,CACtB/C,aAAa,CAAC,aAAa2C,QAAQ,CAAClB,IAAI,CAACuB,QAAQ,EAAE,CAAE,IAAI,CAAC,CAC1DhD,aAAa,CAAC,oBAAoB2C,QAAQ,CAAClB,IAAI,CAACwB,eAAe,EAAE,CAAE,IAAI,CAAC,CACxEjD,aAAa,CAAC,aAAa2C,QAAQ,CAAClB,IAAI,CAACyB,QAAQ,EAAE,CAAE,IAAI,CAAC,CAC1DlD,aAAa,CAAC,WAAW2C,QAAQ,CAAClB,IAAI,CAAC0B,MAAM,EAAE,CAAE,IAAI,CAAC,CACtDnD,aAAa,CAAC,cAAc2C,QAAQ,CAAClB,IAAI,CAAC2B,SAAS,EAAE,CAAE,IAAI,CAAC,CAC5DpD,aAAa,CAAC,kBAAkB2C,QAAQ,CAAClB,IAAI,CAAC4B,aAAa,EAAE,CAAE,IAAI,CAAC,CACpErD,aAAa,CAAC,aAAa2C,QAAQ,CAAClB,IAAI,CAAC6B,QAAQ,EAAE,CAAE,IAAI,CAAC,CAC5D,CAAC,IACG,CACFtD,aAAa,CAAC,kCAAkC,CAAE,KAAK,CAAC,CAC1D,CACF,CACA,MACF,IAAK,sBAAsB,CACzBU,OAAO,CAACC,GAAG,CAACgC,QAAQ,CAAC,CACrBjE,sBAAsB,CAAC,eAAe,CAAC,CACvCsB,aAAa,CAAC,oDAAoD,CAAE,IAAI,CAAC,CACzE5B,oBAAoB,CAAC,IAAI,CAAC,CAC1B,MACJ,CACF,CAAC,CAEDkE,SAAS,CAACiB,OAAO,CAAI7B,KAAK,EAAK,CAC7BhB,OAAO,CAACgB,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CAC3C,CAAC,CAEDY,SAAS,CAACkB,OAAO,CAAG,IAAM,CACxB9C,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC,CAC9C/B,SAAS,CAAC,IAAI,CAAC,CACfX,eAAe,CAAC,KAAK,CAAC,CAEtBoC,UAAU,CAAC,IAAM,CACfgC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CACH,CAAC,CAED/E,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmG,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF/C,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAClC0B,gBAAgB,CAAC,CAAC,CACpB,CAAE,MAAOX,KAAK,CAAE,CACdhB,OAAO,CAACgB,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED+B,SAAS,CAAC,CAAC,CAEX,MAAO,IAAM,CACX,GAAI9E,MAAM,CAAE,CACV+B,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC,CAC9ChC,MAAM,CAAC+E,KAAK,CAAC,CAAC,CAChB,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAO5F,IAAA,SAAU,CAAC,CACpB,CAAC,CAED,cAAe,CAAAC,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}